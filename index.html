<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Radio Comms Guide ‚Äî DCS World</title>
<link rel="stylesheet" href="css/style.css">
<link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div class="header-left">
    <button class="menu-toggle" onclick="document.querySelector('.sidebar').classList.toggle('open')">&#9776;</button>
    <div class="logo">RADIO COMMS<br><span>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–¥–∏–æ–æ–±–º–µ–Ω—É (AWACS)</span></div>
  </div>
  <div class="header-right">
    <div class="search-wrapper">
      <input type="text" class="search-input" id="searchInput" placeholder="&#128269; –ü–æ–∏—Å–∫ —Ñ—Ä–∞–∑..." autocomplete="off">
      <div class="search-results" id="searchResults"></div>
    </div>
    <div class="lang-toggle">
      <button class="lang-btn active" data-l="ru" onclick="setLang('ru')">RU</button>
      <button class="lang-btn" data-l="en" onclick="setLang('en')">EN</button>
    </div>

    <button class="sim-open-btn lang-btn" onclick="openSimModal()">
      <span data-lang="ru">–°–∏–º—É–ª—è—Ü–∏—è</span>
      <span data-lang="en">Simulation</span>
    </button>

    <div class="callsign-display" onclick="openSettings()">
      <div>
        <div class="cs-label">–ü–æ–∑—ã–≤–Ω–æ–π</div>
        <div class="cs-value" id="headerCS">King 7</div>
      </div>
      <div style="border-left:1px solid var(--border); padding-left:8px; margin-left:4px;">
        <div class="cs-label">–¢–∏–ø</div>
        <div class="cs-value" id="headerType" style="color:var(--text-secondary);font-size:12px;">C-130</div>
      </div>
      <div class="edit-icon">&#9998;</div>
    </div>
  </div>
</div>

<!-- SETTINGS MODAL -->
<div class="modal-overlay" id="settingsModal">
  <div class="modal">
    <h2>&#9881; –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–æ—Ä—Ç–∞</h2>
    <label>–ü–æ–∑—ã–≤–Ω–æ–π / Callsign</label>
    <input id="inputCS" type="text" placeholder="King 7">
    <label>–¢–∏–ø –±–æ—Ä—Ç–∞ / Aircraft Type</label>
    <input id="inputType" type="text" placeholder="C-130">
    <label>–†–æ–ª—å / Role</label>
    <select id="inputRole">
      <option>—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç / Transport</option>
      <option>CSAR</option>
      <option>Log Lift</option>
      <option>CAP</option>
      <option>CAS</option>
      <option>Strike</option>
      <option>Bomber</option>
      <option>Recon</option>
    </select>
    <div class="modal-buttons">
      <button class="btn-cancel" onclick="closeSettings()">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn-save" onclick="saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>
</div>

<!-- SIMULATION MODAL -->
<div class="modal-overlay" id="simModal">
  <div class="sim-modal">
    <div class="sim-modal-top">
      <div class="sim-modal-title">
        <span class="sim-modal-icon">üéôÔ∏è</span>
        <span data-lang="ru">–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–∏–º—É–ª—è—Ü–∏–∏</span>
        <span data-lang="en">Simulation Builder</span>
      </div>
      <button class="sim-close-btn" onclick="closeSimModal()">‚úï</button>
    </div>

    <div class="sim-stepper">
      <div class="sim-step-indicator active">1</div>
      <div class="sim-step-indicator">2</div>
      <div class="sim-step-indicator">3</div>
      <div class="sim-step-indicator">4</div>
    </div>

    <div class="sim-modal-body">
      <!-- STEP 1 -->
      <div id="simStep1" class="sim-wizard-step">
        <div class="sim-grid-2">
          <div class="sim-field">
            <label data-lang="ru">–ü–æ–∑—ã–≤–Ω–æ–π</label>
            <label data-lang="en">Callsign</label>
            <input id="simCallsign" type="text" placeholder="King 7">
          </div>
          <div class="sim-field">
            <label data-lang="ru">–¢–∏–ø –±–æ—Ä—Ç–∞</label>
            <label data-lang="en">Aircraft Type</label>
            <input id="simType" type="text" placeholder="C-130">
          </div>
        </div>

        <div class="sim-field" style="margin-top:12px;">
          <label data-lang="ru">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</label>
          <label data-lang="en">Operation type</label>
          <select id="simOpType" onchange="updateRouteLabels(this.value); renderSimWaypoints(); renderSimPreview();">
            <option value="airfield">–°–∞–º–æ–ª—ë—Ç (–∞—ç—Ä–æ–¥—Ä–æ–º ‚Üí –∞—ç—Ä–æ–¥—Ä–æ–º) / Fixed-wing (airfield ‚Üí airfield)</option>
            <option value="helicopter">–í–µ—Ä—Ç–æ–ª—ë—Ç / Helicopter</option>
            <option value="carrier-departure">–ê–≤–∏–∞–Ω–æ—Å–µ—Ü ‚Üí –∞—ç—Ä–æ–¥—Ä–æ–º / Carrier ‚Üí airfield</option>
            <option value="carrier-recovery">–ê—ç—Ä–æ–¥—Ä–æ–º ‚Üí –∞–≤–∏–∞–Ω–æ—Å–µ—Ü / Airfield ‚Üí carrier</option>
            <option value="carrier-full">–ê–≤–∏–∞–Ω–æ—Å–µ—Ü ‚Üí –∞–≤–∏–∞–Ω–æ—Å–µ—Ü / Carrier ‚Üí carrier</option>
          </select>
        </div>
      </div>

      <!-- STEP 2 -->
      <div id="simStep2" class="sim-wizard-step" style="display:none;">
        <div class="sim-grid-2">
          <div class="sim-field">
            <label id="simOriginLabel">–ê—ç—Ä–æ–¥—Ä–æ–º –≤—ã–ª–µ—Ç–∞</label>
            <input id="simOrigin" type="text" placeholder="–°–µ–Ω–∞–∫–∏">
          </div>
          <div class="sim-field">
            <label id="simDestLabel">–ê—ç—Ä–æ–¥—Ä–æ–º –ø–æ—Å–∞–¥–∫–∏</label>
            <input id="simDest" type="text" placeholder="–ö—É—Ç–∞–∏—Å–∏">
          </div>
        </div>

        <div class="sim-waypoints-head">
          <div>
            <div class="sim-waypoints-title" data-lang="ru">–¢–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞</div>
            <div class="sim-waypoints-title" data-lang="en">Route waypoints</div>
          </div>
          <button class="sim-mini-btn" onclick="addWaypoint()">+ <span data-lang="ru">–î–æ–±–∞–≤–∏—Ç—å</span><span data-lang="en">Add</span></button>
        </div>

        <div id="simWaypointsList" class="sim-waypoints-list"></div>
      </div>

      <!-- STEP 3 -->
      <div id="simStep3" class="sim-wizard-step" style="display:none;">
        <div class="sim-hint" data-lang="ru">–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –≤—ã–±–µ—Ä–∏ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–ª—É—á–∏—Ç—å—Å—è –≤ –ø–æ–ª—ë—Ç–µ.</div>
        <div class="sim-hint" data-lang="en">Optional: pick emergency events that may occur during flight.</div>

        <div class="sim-checklist">
          <div class="sim-check">
            <input type="checkbox" id="em_goaround" value="go-around" data-label-ru="–£—Ö–æ–¥ –Ω–∞ –≤—Ç–æ—Ä–æ–π –∫—Ä—É–≥" data-label-en="Go-around">
            <label for="em_goaround"><span data-lang="ru">–£—Ö–æ–¥ –Ω–∞ –≤—Ç–æ—Ä–æ–π –∫—Ä—É–≥</span><span data-lang="en">Go-around</span></label>
          </div>

          <div class="sim-check">
            <input type="checkbox" id="em_emland" value="emergency-land" data-label-ru="–ê–≤–∞—Ä–∏–π–Ω–∞—è –ø–æ—Å–∞–¥–∫–∞" data-label-en="Emergency landing">
            <label for="em_emland"><span data-lang="ru">–ê–≤–∞—Ä–∏–π–Ω–∞—è –ø–æ—Å–∞–¥–∫–∞</span><span data-lang="en">Emergency landing</span></label>
          </div>

          <div class="sim-check">
            <input type="checkbox" id="em_taxicancel" value="taxi-cancel" data-label-ru="–û—Ç–º–µ–Ω–∞ —Ä—É–ª–µ–Ω–∏—è" data-label-en="Taxi cancel">
            <label for="em_taxicancel"><span data-lang="ru">–û—Ç–º–µ–Ω–∞ —Ä—É–ª–µ–Ω–∏—è</span><span data-lang="en">Taxi cancel</span></label>
          </div>

          <div class="sim-check">
            <input type="checkbox" id="em_instfail" value="instrument-fail" data-label-ru="–û—Ç–∫–∞–∑ –ø—Ä–∏–±–æ—Ä–æ–≤" data-label-en="Instrument failure">
            <label for="em_instfail"><span data-lang="ru">–û—Ç–∫–∞–∑ –ø—Ä–∏–±–æ—Ä–æ–≤</span><span data-lang="en">Instrument failure</span></label>
          </div>

          <div class="sim-check">
            <input type="checkbox" id="em_fire" value="fire" data-label-ru="–ü–æ–∂–∞—Ä" data-label-en="Fire">
            <label for="em_fire"><span data-lang="ru">–ü–æ–∂–∞—Ä</span><span data-lang="en">Fire</span></label>
          </div>

          <div class="sim-check">
            <input type="checkbox" id="em_enginefail" value="engine-fail" data-label-ru="–û—Ç–∫–∞–∑ –¥–≤–∏–≥–∞—Ç–µ–ª—è" data-label-en="Engine failure">
            <label for="em_enginefail"><span data-lang="ru">–û—Ç–∫–∞–∑ –¥–≤–∏–≥–∞—Ç–µ–ª—è</span><span data-lang="en">Engine failure</span></label>
          </div>

          <div class="sim-check">
            <input type="checkbox" id="em_decomp" value="decompression" data-label-ru="–†–∞–∑–≥–µ—Ä–º–µ—Ç–∏–∑–∞—Ü–∏—è" data-label-en="Decompression">
            <label for="em_decomp"><span data-lang="ru">–†–∞–∑–≥–µ—Ä–º–µ—Ç–∏–∑–∞—Ü–∏—è</span><span data-lang="en">Decompression</span></label>
          </div>

          <div class="sim-check">
            <input type="checkbox" id="em_lowfuel" value="low-fuel" data-label-ru="–ù–∏–∑–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫ —Ç–æ–ø–ª–∏–≤–∞" data-label-en="Low fuel">
            <label for="em_lowfuel"><span data-lang="ru">–ù–∏–∑–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫ —Ç–æ–ø–ª–∏–≤–∞</span><span data-lang="en">Low fuel</span></label>
          </div>
        </div>
      </div>

      <!-- STEP 4 -->
      <div id="simStep4" class="sim-wizard-step" style="display:none;">
        <div class="sim-hint" data-lang="ru">–ü—Ä–æ–≤–µ—Ä—å –ø–ª–∞–Ω –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π.</div>
        <div class="sim-hint" data-lang="en">Review before generating.</div>
        <div id="simPreview" class="sim-preview"></div>
      </div>
    </div>

    <div class="sim-modal-footer">
      <button class="btn-cancel" onclick="closeSimModal()">
        <span data-lang="ru">–û—Ç–º–µ–Ω–∞</span><span data-lang="en">Cancel</span>
      </button>

      <div class="sim-footer-right">
        <button class="sim-nav" id="simPrevBtn" onclick="prevSimStep()">‚Üê <span data-lang="ru">–ù–∞–∑–∞–¥</span><span data-lang="en">Previous</span></button>
        <button class="sim-nav primary" id="simNextBtn" onclick="nextSimStep()"><span data-lang="ru">–î–∞–ª–µ–µ</span><span data-lang="en">Next</span> ‚Üí</button>
        <button class="sim-nav primary" id="simGenerateBtn" onclick="generateSimulation()">‚ö° <span data-lang="ru">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</span><span data-lang="en">Generate</span></button>
      </div>
    </div>
  </div>
</div>

<!-- LAYOUT -->
<div class="layout">
  <!-- SIDEBAR (generated by JS) -->
  <nav class="sidebar" id="sidebar"></nav>

  <!-- MAIN CONTENT (generated by JS) -->
  <main class="main" id="mainContent"></main>
</div>

<!-- CREDITS BADGE -->
<div class="credits-badge">
  –°–µ—Ä–≤–µ—Ä: Storks<br>
  –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–æ: _d&euro;mpay (–ü—Å–∏—Ö/–ò–ª—å—è)<br>
  –°–∞–π—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω: @danilka_pikaso (AsQ)<br><br>
  <i><b>–î–∞–Ω–Ω—ã–π —Å–∞–π—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∞–ª—å—Ñ–∞-—Ç–µ—Å—Ç–µ</b></i>
</div>

<!-- SIMULATION PAGE -->
<div id="simPage" class="sim-page"></div>

<!-- DATA REGISTRY -->
<script src="data/registry.js"></script>

<!-- GENERAL -->
<script src="data/general/intro.json.js"></script>
<script src="data/general/rules.json.js"></script>

<!-- AIRFIELD -->
<script src="data/airfield/radio-check.json.js"></script>
<script src="data/airfield/startup.json.js"></script>
<script src="data/airfield/taxi.json.js"></script>
<script src="data/airfield/takeoff.json.js"></script>
<script src="data/airfield/landing.json.js"></script>
<script src="data/airfield/taxi-after.json.js"></script>

<!-- EMERGENCY -->
<script src="data/emergency/go-around.json.js"></script>
<script src="data/emergency/emergency-land.json.js"></script>
<script src="data/emergency/taxi-cancel.json.js"></script>
<script src="data/emergency/instrument-fail.json.js"></script>
<script src="data/emergency/fire.json.js"></script>
<script src="data/emergency/engine-fail.json.js"></script>
<script src="data/emergency/decompression.json.js"></script>
<script src="data/emergency/low-fuel.json.js"></script>

<!-- HELICOPTER -->
<script src="data/helicopter/full-cycle.json.js"></script>

<!-- CARRIER -->
<script src="data/carrier/info.json.js"></script>
<script src="data/carrier/startup.json.js"></script>
<script src="data/carrier/case1.json.js"></script>
<script src="data/carrier/case3.json.js"></script>
<script src="data/carrier/lso-calls.json.js"></script>

<!-- AWACS -->
<script src="data/awacs/general.json.js"></script>
<script src="data/awacs/braa.json.js"></script>
<script src="data/awacs/bogey-dope.json.js"></script>
<script src="data/awacs/declare.json.js"></script>

<!-- REFERENCE -->
<script src="data/reference/phonetic.json.js"></script>
<script src="data/reference/terms.json.js"></script>

<!-- APP LOGIC (must be last) -->
<script src="js/app.js"></script>
<script src="js/simulation.js"></script>

</body>
</html>
